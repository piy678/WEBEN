<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Tickets durchsuchen</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <h2>Tickets nach Kategorien</h2>
  <label for="category">Kategorie wählen:</label>
  <select id="category">
    <option value="all">Alle</option>
    <option value="musik">Musik</option>
    <option value="theater">Theater</option>
    <option value="sport">Sport</option>
  </select>

  <div id="ticket-list">
    <!-- AJAX lädt hier Tickets -->
  </div>

  <script>
    document.getElementById("category").addEventListener("change", function() {
      const category = this.value;
      fetch("../../Backend/logic/getTickets.php?category=" + category)
        .then(res => res.json())
        .then(data => {
          const container = document.getElementById("ticket-list");
          container.innerHTML = "";
          if (data.length === 0) {
            container.innerHTML = "<p>Keine Tickets gefunden.</p>";
          } else {
            data.forEach(ticket => {
              const div = document.createElement("div");
              div.innerHTML = `<strong>${ticket.title}</strong> – ${ticket.price} €`;
              container.appendChild(div);
            });
          }
        });
    });
  </script>
</body>
</html>
